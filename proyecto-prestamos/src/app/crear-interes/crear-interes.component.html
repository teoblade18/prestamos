
<div class="backdrop" >
  <div open class="crearInteres">
    <section>
      <form [formGroup]="formInteres" (ngSubmit)="registrarInteres()">
        <h1>Agregar Interes</h1>

        <label for="tipo">Tipo de interés:</label>
        <select name="tipo" id="tipo" formControlName="tipo" [value]="1">
          <option *ngFor="let item of tiposInteres" [value]="item">{{item}}</option>
        </select>
        <div *ngIf="tipo.errors?.['min'] && tipo.touched" class="contain-label-error">
          <label class="label-error">Debes seleccionar un tipo de interés</label>
        </div>

        <label for="fecha">Fecha:</label>
        <input type="date" id="fecha" placeholder="Fecha" formControlName="fecha" name="fecha" [readOnly]="tipo.value != 'Mora'"/>
        <div *ngIf="fecha.errors?.['required'] && fecha.touched" class="contain-label-error">
          <label class="label-error">La fecha es requerida</label>
        </div>

        <label for="valor">Valor:</label>
        <input type="number" id="valor" placeholder="Valor" formControlName="valor" name="valor" [readOnly]="tipo.value != 'Mora'"/>
        <div *ngIf="valor.errors?.['required'] && valor.touched" class="contain-label-error">
          <label class="label-error">El valor es requerido</label>
        </div>
        <div *ngIf="valor.errors?.['min'] && valor.touched" class="contain-label-error">
          <label class="label-error">El valor debe ser positivo</label>
        </div>

        <div *ngIf="errorStatus" class="contain-label-error">
          <label class="label-error">Ocurrió un error al registrar el interes: {{errorMsj}}</label>
        </div>

        <button type="submit" [disabled]="formInteres.invalid">Ingresar</button>
        <button type="button" class="boton-cerrar-modal" (click)="cerrarModal()">Cancelar</button>
      </form>
    </section>
  </div>
</div>

